```markdown
# MovDino Interpreter

Интерпретатор для языка MovDino, управляющего динозавром на двумерном игровом поле.

## Описание

Программа считывает команды из текстового файла, выполняет их, обновляет состояние поля и сохраняет результат в выходной файл. Поле состоит из клеток, которые могут содержать различные объекты: динозавра, ямы, горы, деревья, камни или цветные клетки.

## Сборка

### Требования
- GCC компилятор
- Make (опционально)

### Компиляция

```bash
# Сборка проекта
make

# Сборка с отладочной информацией
make debug

# Сборка с оптимизацией
make release

# Очистка собранных файлов
make clean
```

### Ручная компиляция

```bash
gcc -Wall -Wextra -std=c99 -pedantic -o movdino *.c
```

## Использование

```bash
./movdino input.txt output.txt [опции]
```

### Параметры
- `input.txt` - входной файл с программой на MovDino
- `output.txt` - файл для сохранения итогового состояния поля

### Опции
- `interval N` - задержка между обновлениями в секундах (по умолчанию 1.0)
- `no-display` - отключить визуализацию поля в консоли
- `no-save` - отключить сохранение в выходной файл

### Примеры

```bash
# Базовый запуск
./movdino input.txt output.txt

# С задержкой 0.5 секунд
./movdino input.txt output.txt interval 0.5

# Без отображения
./movdino input.txt output.txt no-display

# Без сохранения
./movdino input.txt output.txt no-save

# Все опции вместе
./movdino input.txt output.txt interval 0.5 no-display no-save
```

## Язык MovDino

### Структура программы
- Каждая команда на отдельной строке
- Комментарии начинаются с `//`
- Левые пробелы не допускаются

### Основные команды

#### Создание поля
```
SIZE width height
```
Первая команда, задает размеры поля (10-100×10-100).

#### Размещение динозавра
```
START x y
```
Устанавливает динозавра в указанные координаты.

#### Перемещение
```
MOVE UP|DOWN|LEFT|RIGHT
```
Перемещает динозавра на 1 клетку.

#### Прыжок
```
JUMP direction distance
```
Прыжок на указанное расстояние в направлении.

#### Объекты
- `DIG direction` - создать яму (`%`)
- `MOUND direction` - создать гору (`^`) или засыпать яму
- `GROW direction` - вырастить дерево (`&`)
- `CHOP direction` - срубить дерево
- `MAKE direction` - создать камень (`@`)
- `PUSH direction` - толкнуть камень

#### Покраска
```
PAINT color
```
Окрашивает текущую клетку (a-z).

#### Управление выполнением
- `LOAD filename` - загрузить поле из файла
- `EXEC filename` - выполнить команды из файла
- `IF CELL x y IS symbol THEN command` - условное выполнение

### Обозначения клеток
- `_` - пустая клетка
- `#` - динозавр
- `%` - яма
- `^` - гора
- `&` - дерево
- `@` - камень
- `a-z` - цветная клетка

## Примеры файлов

### input.txt
```txt
SIZE 10 10
START 3 3
MOVE RIGHT
PAINT a
DIG DOWN
MOUND RIGHT
JUMP RIGHT 2
```

### file1.txt
```txt
MOVE RIGHT
PAINT b
```

## Структура проекта

```
movdino/
├── movdino.c      # Главная функция
├── engine.c/h     # Основной движок выполнения
├── game.h         # Определения структур игры
├── command_proc.c/h # Обработчики команд
├── movement.c     # Функции движения
├── objects.c/h    # Работа с объектами
├── field.c        # Работа с полем
├── options.c/h    # Обработка параметров
├── errors.h       # Система ошибок
├── utils.c/h      # Вспомогательные функции
├── Makefile       # Сборка проекта
├── input.txt      # Пример входного файла
└── file1.txt      # Пример вложенного файла
```

## Обработка ошибок

Программа выводит информативные сообщения об ошибках с указанием номера строки:
- Неправильный формат команд
- Выход за границы поля
- Невозможность выполнения действия
- Нарушение последовательности команд

## Особенности реализации

- **Тороидальная топология** - при выходе за границу динозавр появляется с противоположной стороны
- **Рекурсивное выполнение** - поддержка вложенных файлов через EXEC
- **Условные команды** - выполнение по условию с IF CELL
- **Кроссплатформенность** - работает на Windows и Unix-системах

## Разработчики

Проект разработан в рамках лабораторной работы по программированию.

## Лицензия

Учебный проект.
